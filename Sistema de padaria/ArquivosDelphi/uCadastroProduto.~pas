unit uCadastroProduto;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, DB, ADODB, Menus, Grids, DBGrids, Mask, DBCtrls;

type
  TForm1 = class(TForm)
    ADOConnection1: TADOConnection;
    ADOQuery1: TADOQuery;
    ADOQuery1id_prod: TIntegerField;
    ADOQuery1preco_prod: TBCDField;
    ADOQuery1nome_prod: TStringField;
    Label1: TLabel;
    Label2: TLabel;
    btnGravar: TButton;
    btnCancelar: TButton;
    btnDeletar: TButton;
    btnInserir: TButton;
    DBGrid1: TDBGrid;
    DataSource1: TDataSource;
    edtCodigo: TDBEdit;
    edtNome: TDBEdit;
    edtPreco: TDBEdit;
    procedure btnGravarClick(Sender: TObject);
    procedure btnCancelarClick(Sender: TObject);
    procedure btnDeletarClick(Sender: TObject);
    procedure FormShow(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

procedure TForm1.btnGravarClick(Sender: TObject);
begin
  ADOQuery1.Close;
  ADOQuery1.SQL.Text := 'insert into padaria.tb_produto(id_prod, preco_prod, nome_prod) values ( 55,'+QuotedStr(edtPreco.Text) +','+ QuotedStr(edtNome.Text) + ')';
  ADOQuery1.ExecSQL;
end;

procedure TForm1.btnCancelarClick(Sender: TObject);
begin
  ADOQuery1.CancelUpdates;
end;

procedure TForm1.btnDeletarClick(Sender: TObject);
begin
  ADOQuery1.Open;
  ADOQuery1.SQL.Text := 'delete from padaria.tb_produto where id_prod = ' +edtCodigo.Text;
  ADOQuery1.ExecSQL;
end;

procedure TForm1.FormShow(Sender: TObject);
begin
 // ADOQuery1.Open;
end;

procedure TForm1.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  ADOQuery1.Close;
end;

end.
